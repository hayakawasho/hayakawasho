---
import { GoogleFontsOptimizer } from "astro-google-fonts-optimizer";
import { ClientOnly } from './client-only.tsx';

export interface Props {
	title: string;
  permalink: string;
}

const { props } = Astro;

const SITE_URL = 'https://shohayakawa.dev';
const siteTitle = 'Sho Hayakawa Portfolio';
const description = 'Frontend Engineer Sho Hayakawa 早川翔 portfolio website';

const title = props.title ? props.title + ' | ' + siteTitle : siteTitle;
---

<!doctype html>
<html lang="ja">
	<head>
    <slot name="prependHead" />
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		<meta name="viewport" content="width=device-width" />
    <title>{title}</title>
    <meta content={description} name="description" />
    <meta content={title} property="og:title" />
    <meta content={props.permalink ? 'article' : 'website'} property="og:type" />
    <meta content={description} property="og:description" />
    <meta content={SITE_URL + props.permalink} property="og:url" />
    <meta content={siteTitle} property="og:site_name" />
    <meta content={SITE_URL + '/ogp.jpg'} property="og:image" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <GoogleFontsOptimizer url="https://fonts.googleapis.com/css2?family=Jost:wght@400&display=swap" />
	</head>
  <body class="">
    <div
      aria-hidden="true"
      class="fixed inset-0 w-screen pointer-events-none -z-1 invisible"
      data-ref="windowSizeWatcher"
    ></div>
    <div aria-hidden="true"></div>
    <canvas
      aria-hidden="true"
      class="fixed inset-0 w-screen h-screen pointer-events-none"
      data-ref="backCanvas"
    ></canvas>
    <slot />
    <div data-component="Scrollbar" />
    <canvas
      aria-hidden="true"
      class="fixed inset-0 w-screen h-full pointer-events-none"
      data-ref="frontCanvas"
    ></canvas>
    <ClientOnly client:only />
  </body>
</html>

<script>
  // import '../entry';
</script>

<style is:global>
	:root {
    --font: 'Jost', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, Arial,
      'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
    --font-heading: 'Satoshi', sans-serif;
    --font-en: 'Gallery Modern', serif;

    --vh: 1vh;

    --grid: calc(1 / 12 * 100vw);
    --gap: calc(30 / 750 * 100vw);

    --color-text: #1e1f1f;
    --color-bg: #c4c4c4;
	}

  *,
  *::before,
  *::after {
    box-sizing: border-box;
  }

  html {
    font-size: calc(10 / 1280 * 100vw);
  }

  body {
    font-family: var(--font) !important;
    overflow-x: hidden;
    overflow-wrap: break-word;
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: subpixel-antialiased;
    -moz-osx-font-smoothing: unset;
    -webkit-tap-highlight-color: rgba(255, 255, 255, 0);
    color: var(--color-text);
    background-color: var(--color-bg);
  }

  html {
    position: fixed;
    overflow: hidden;
  }

  html,
  body {
    width: 100%;
    height: 100%;
    overscroll-behavior-y: none;
  }

  :any-link {
    color: inherit;
    text-decoration: none;
  }

  ol,
  ul {
    list-style: none;
  }

  img {
    max-width: 100%;
    height: auto;
    display: block;
  }

  picture {
    display: block;
  }

  summary {
    display: block;
    list-style: none;
  }

  summary::-webkit-details-marker {
    display: none;
  }

  @font-face {
    font-family: 'Gallery Modern';
    src: url('/assets/gallerymodern-webfont.woff2') format('woff2');
    font-weight: 400;
    font-style: normal;
    font-display: swap;
  }
</style>
../client-only.tsx
