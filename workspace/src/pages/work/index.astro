---
import dotenv from 'dotenv';
import WorkIndex from '../../_components/page/work';
import DefalutLayout from "../../layout.astro";
import { createWorkRepository } from '../../_repositories/works';

dotenv.config();

const workRepo = createWorkRepository(process.env.API_KEY);
const result = await workRepo.findList({
  limit: 99,
  orders: '-launch',
});

---

<DefalutLayout title="Work" permalink="/work/" namespace="work">
  <WorkIndex posts={result.works} />
</DefalutLayout>
