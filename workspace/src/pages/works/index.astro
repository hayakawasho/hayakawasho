---
import dotenv from 'dotenv';
import WorksIndex from '@/_features/page.works/index.view';
import { createWorksRepository } from '@/_repositories/works';
import Layout from '@/layout.astro';

dotenv.config();

const repository = createWorksRepository(process.env.API_KEY!);

const result = await repository.findList({
  limit: 99,
  orders: '-launch',
});
---

<Layout title="Works" permalink='/works/'>
  <WorksIndex posts={result.works} />
</Layout>
