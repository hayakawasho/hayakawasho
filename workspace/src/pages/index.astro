---
import dotenv from 'dotenv';
import { WorkRepository } from '../_repositories/work/repository';
import { WorkDataMap } from "../_models/work/mapper";
import Head from "../_components/ui/layout/head.astro"
import Seo from "../_components/ui/layout/seo.astro"
import Home from "../_components/page/home"

dotenv.config();

const repository = WorkRepository.create(process.env.API_KEY);
const result = await repository.findAll();

const posts = result.works.map(WorkDataMap.toDTO)

---

<Head>
  <Seo title="" url="" />
</Head>
<Home posts={posts} />
