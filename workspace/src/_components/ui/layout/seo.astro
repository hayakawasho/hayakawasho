---
import { GoogleFontsOptimizer } from "astro-google-fonts-optimizer";
import gallerymodernFont  from "../../../assets/gallerymodern-webfont.woff2"

export interface Props {
	title: string;
  url: string;
}

const { props } = Astro;

const SITE_URL = 'https://shohayakawa.dev';
const siteTitle = 'Sho Hayakawa Portfolio';
const description = 'Frontend Engineer Sho Hayakawa 早川翔 portfolio website';
const title = props.title ? props.title + ' - ' + siteTitle : siteTitle;
const canonicalURL = SITE_URL + props.url

const isDev = process.env.NODE_ENV !== 'production';

---
<link rel="preload" href="https://code.createjs.com/1.0.0/preloadjs.min.js" as="script">
{!isDev && (<link as="font" href={gallerymodernFont} rel="preload" type="font/woff2" />)}
{!isDev && (<link as="style" href="/assets/entry.css" onload="this.onload=null;this.rel='stylesheet';" rel="preload" />)}

<!-- Canonical URL -->
<link rel="canonical" href={canonicalURL} />

<meta name="description" content={description} />
<title>{title}</title>
<meta content={description} name="description" />

<meta content={title} property="og:title" />
<meta content={props.url ? 'article' : 'website'} property="og:type" />
<meta content={description} property="og:description" />
<meta content={canonicalURL} property="og:url" />
<meta content={siteTitle} property="og:site_name" />
<meta content={SITE_URL + '/ogp.jpg'} property="og:image" />

<GoogleFontsOptimizer url="https://fonts.googleapis.com/css2?family=Jost:wght@400&display=swap" />
<script src="https://code.createjs.com/1.0.0/preloadjs.min.js" is:inline />
{isDev ? (<script src={`http://${process.env.LOCAL_IP_ADDR || 'localhost'}:5173/src/entry.ts`} type="module" />) : <script src="/assets/entry.js" type="module" />}
